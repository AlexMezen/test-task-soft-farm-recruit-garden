(function(){"use strict";var e={6512:function(e,t,a){var n=a(5130),l=a(2261),s=a(6768);const o={class:"app"},i={class:"sidebar"},r={class:"sidebar-header"},d={class:"sidebar-content"},c={class:"content-area"},u={key:1,class:"sidebar-footer"};function m(e,t,a,n,l,m){const g=(0,s.g2)("SearchInput"),v=(0,s.g2)("ErrorMessage"),p=(0,s.g2)("SettlementDetail"),f=(0,s.g2)("LoadingSpinner"),y=(0,s.g2)("SettlementsList"),h=(0,s.g2)("Pagination"),L=(0,s.g2)("MapContainer");return(0,s.uX)(),(0,s.CE)("div",o,[(0,s.Lk)("div",i,[(0,s.Lk)("div",r,[t[2]||(t[2]=(0,s.Lk)("h1",{class:"sidebar-title"},"–ì–µ–æ–¥–∞–Ω–Ω—ñ –£–∫—Ä–∞—ó–Ω–∏",-1)),n.selectedSettlement?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(g,{key:0,modelValue:n.searchQuery,"onUpdate:modelValue":t[0]||(t[0]=e=>n.searchQuery=e)},null,8,["modelValue"]))]),(0,s.Lk)("div",d,[(0,s.Lk)("div",c,[n.error?((0,s.uX)(),(0,s.Wv)(v,{key:0,message:n.error},null,8,["message"])):(0,s.Q3)("",!0),n.selectedSettlement?((0,s.uX)(),(0,s.Wv)(p,{key:1,settlement:n.selectedSettlement,"nominatim-loading":n.nominatimLoading},null,8,["settlement","nominatim-loading"])):n.loading?((0,s.uX)(),(0,s.Wv)(f,{key:2,message:"–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ø–æ–ª—ñ–≥–æ–Ω—ñ–≤..."})):((0,s.uX)(),(0,s.Wv)(y,{key:3,settlements:n.paginatedSettlements,onSelectSettlement:n.handleSelectSettlement},null,8,["settlements","onSelectSettlement"]))])]),!n.selectedSettlement&&!n.loading&&n.filteredSettlements.length>n.itemsPerPage?((0,s.uX)(),(0,s.Wv)(h,{key:0,"current-page":n.currentPage,"total-pages":n.totalPages,"items-per-page":n.itemsPerPage,"total-items":n.filteredSettlements.length,onNextPage:n.nextPage,onPrevPage:n.prevPage,onGoToPage:n.goToPage,onChangeItemsPerPage:n.changeItemsPerPage},null,8,["current-page","total-pages","items-per-page","total-items","onNextPage","onPrevPage","onGoToPage","onChangeItemsPerPage"])):(0,s.Q3)("",!0),n.selectedSettlement?((0,s.uX)(),(0,s.CE)("div",u,[(0,s.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>n.handleClearSelection&&n.handleClearSelection(...e)),class:"back-button"}," ‚Üê –ù–∞–∑–∞–¥ –¥–æ —Å–ø–∏—Å–∫—É ")])):(0,s.Q3)("",!0)]),(0,s.bF)(L)])}var g=a(144);const v=(0,l.nY)("app",(()=>{const e=(0,g.KR)([]),t=(0,g.KR)(!1),a=(0,g.KR)(""),n=(0,g.KR)([]),l=(0,g.KR)(!1),s=t=>{e.value=t},o=e=>{t.value=e},i=e=>{a.value=e},r=e=>{n.value=e},d=e=>{l.value=e};return{settlements:e,loading:t,error:a,polygonsData:n,nominatimLoading:l,setSettlements:s,setLoading:o,setError:i,setPolygonsData:r,setNominatimLoading:d}})),p=(0,l.nY)("cache",(()=>{const e=(0,g.KR)(new Map),t=t=>e.value.get(t),a=(t,a)=>{e.value.set(t,a)},n=()=>e.value.size,l=()=>{e.value.clear()},s=()=>({size:e.value.size,keys:Array.from(e.value.keys()).slice(0,5)});return{cache:e,getCachedData:t,setCachedData:a,getCacheSize:n,clearCache:l,getCacheInfo:s}}));a(4114),a(8111),a(2489),a(7588);const f=async(e,t)=>{const a=p(),n=`nominatim_${e.toFixed(6)}_${t.toFixed(6)}`,l=a.getCachedData(n);if(l)return l;try{const l=await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${e}&lon=${t}&format=json&addressdetails=1&accept-language=uk,ru,en`,{headers:{"User-Agent":"Vue-GeoData-App/1.0"}});if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);const s=await l.json();return a.setCachedData(n,s),await new Promise((e=>setTimeout(e))),s}catch(s){return a.setCachedData(n,null),null}},y=async()=>{try{const e=await fetch("./polygons.json"),t=await e.text(),a=JSON.parse(t);return a}catch(e){}};a(1701);const h=e=>{try{if("undefined"!==typeof window&&"undefined"!==typeof window.turf){let t=e.map((e=>[e.lng,e.lat]));const a=t[0],n=t[t.length-1];a[0]===n[0]&&a[1]===n[1]||t.push([a[0],a[1]]);const l={type:"Feature",geometry:{type:"Polygon",coordinates:[t]}},s=window.turf.centroid(l),o={lat:s.geometry.coordinates[1],lng:s.geometry.coordinates[0]};return o}{let t=0,a=0;for(const l of e)t+=l.lat,a+=l.lng;const n={lat:t/e.length,lng:a/e.length};return n}}catch(t){return{lat:49,lng:32}}},L=e=>{if(!Array.isArray(e)||e.length<3)return null;const t=e.filter((e=>e&&"number"===typeof e.lat&&"number"===typeof e.lng&&!isNaN(e.lat)&&!isNaN(e.lng)&&e.lat>=-90&&e.lat<=90&&e.lng>=-180&&e.lng<=180));return t.length<3?null:t},k=()=>{const e=["#FF6B6B","#4ECDC4","#45B7D1","#FFA726","#AB47BC","#66BB6A","#EF5350","#26C6DA","#FF7043","#9CCC65","#5C6BC0","#FFCA28","#FF8A65","#A1C181","#D32F2F","#7B1FA2","#512DA8","#303F9F","#1976D2","#0288D1"];return e[Math.floor(Math.random()*e.length)]};function P(){const e=v(),t=p(),a=(0,g.KR)(""),n=(0,g.KR)(null),l=(0,g.KR)(1),o=(0,g.KR)(20),i=(0,s.EW)((()=>{if(!a.value)return e.settlements;const t=e.settlements.filter((e=>e.name.toLowerCase().includes(a.value.toLowerCase())||e.display_name&&e.display_name.toLowerCase().includes(a.value.toLowerCase())));return l.value>Math.ceil(t.length/o.value)&&(l.value=1),t})),r=(0,s.EW)((()=>Math.ceil(i.value.length/o.value))),d=(0,s.EW)((()=>{const e=(l.value-1)*o.value,t=e+o.value;return i.value.slice(e,t)})),c=async()=>{const e=d.value,t=e.filter((e=>!e.nominatimLoaded&&!e.nominatimLoading));if(0!==t.length){t.forEach((e=>{e.nominatimLoading=!0}));for(const e of t){try{const t=await f(e.center.lat,e.center.lng);t&&t.display_name&&(e.display_name=t.display_name,e.address=t.address,e.nominatimData=t),e.nominatimLoaded=!0,e.nominatimLoading=!1}catch(a){e.nominatimLoaded=!0,e.nominatimLoading=!1}await new Promise((e=>setTimeout(e,100)))}}},u=async()=>{e.setLoading(!0),e.setError(""),e.setSettlements([]);try{const a=await y();if(!a||!Array.isArray(a))throw new Error("–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–∞–π–ª–µ polygons.json");const n=[];for(let e=0;e<a.length;e++){const l=a[e];try{if(!l.polygon||!Array.isArray(l.polygon))continue;const e=L(l.polygon);if(!e)continue;const t=h(e),a={id:l.id,name:l.name,polygon:e,center:t,color:k(),display_name:`${l.name}`,nominatimLoaded:!1,coordinates:`${t.lat.toFixed(4)}, ${t.lng.toFixed(4)}`};n.push(a)}catch(t){}}e.setSettlements(n),await(0,s.dY)(),await c()}catch(a){e.setError(a.message||"–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –Ω–∞—Å–µ–ª–µ–Ω–Ω—ã–µ –ø—É–Ω–∫—Ç—ã")}finally{e.setLoading(!1)}},m=async t=>{if(n.value=t,!t.nominatimLoaded){e.setNominatimLoading(!0);try{const e=await f(t.center.lat,t.center.lng);e&&e.display_name?(t.display_name=e.display_name,t.address=e.address,t.nominatimData=e,t.nominatimLoaded=!0):t.nominatimLoaded=!0}catch(a){t.nominatimLoaded=!0}e.setNominatimLoading(!1)}},P=()=>{n.value=null},C=()=>{t.clearCache(),e.settlements.forEach((e=>{e.nominatimLoaded=!1,e.display_name=e.name,delete e.address,delete e.nominatimData}))},w=()=>{l.value<r.value&&(l.value++,(0,s.dY)((()=>c())))},b=()=>{l.value>1&&(l.value--,(0,s.dY)((()=>c())))},_=e=>{e>=1&&e<=r.value&&(l.value=e,(0,s.dY)((()=>c())))},S=e=>{o.value=e,l.value=1,(0,s.dY)((()=>c()))};return{searchQuery:a,selectedSettlement:n,currentPage:l,itemsPerPage:o,totalPages:r,filteredSettlements:i,paginatedSettlements:d,loadSettlements:u,selectSettlement:m,clearSelection:P,clearCache:C,loadNominatimForCurrentPage:c,nextPage:w,prevPage:b,goToPage:_,changeItemsPerPage:S}}function C(){const e=(0,g.KR)(null),t=(0,g.KR)([]),a=(0,g.KR)(null),n=async()=>{await(0,s.dY)();try{const t=document.getElementById("map");if(!t)throw new Error("–≠–ª–µ–º–µ–Ω—Ç –∫–∞—Ä—Ç—ã –Ω–µ –Ω–∞–π–¥–µ–Ω");if("undefined"===typeof window||!window.L)throw new Error("Leaflet –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω");e.value=window.L.map("map",{center:[49,32],zoom:6,zoomControl:!0,scrollWheelZoom:!0}),window.L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"¬© OpenStreetMap contributors",maxZoom:18}).addTo(e.value)}catch(t){throw t}},l=(a,n=null)=>{if(e.value&&0!==a.length)if(t.value.forEach((t=>{e.value.removeLayer(t)})),t.value=[],a.forEach((a=>{try{const l=L(a.polygon);if(!l)return;const s=l.map((e=>[e.lat,e.lng])),o=window.L.polygon(s,{color:a.color,fillColor:a.color,fillOpacity:.6,weight:3,opacity:1}).addTo(e.value),i=o.getBounds(),r=i.getNorthEast().distanceTo(i.getSouthWest());o.bindPopup(`\n          <div style="min-width: 200px;">\n            <strong style="color: ${a.color};">${a.name}</strong><br>\n            <hr style="margin: 8px 0;">\n            <small>–¶–µ–Ω—Ç—Ä: ${a.center.lat.toFixed(4)}, ${a.center.lng.toFixed(4)}</small><br>\n            <small>–¢–æ—á–æ–∫: ${l.length}</small><br>\n            <small>–†–æ–∑–º—ñ—Ä: ~${r.toFixed(0)}–º</small>\n          </div>\n        `),n&&o.on("click",(()=>{n(a)})),t.value.push(o)}catch(l){}})),t.value.length>0)try{const a=new window.L.featureGroup(t.value),n=a.getBounds();n.isValid()?e.value.fitBounds(n.pad(.05)):e.value.setView([49,32],6)}catch(l){e.value.setView([49,32],6)}else e.value.setView([49,32],6)},o=t=>{if(e.value&&t.polygon){a.value&&e.value.removeLayer(a.value);try{const n=t.polygon.map((e=>[e.lat,e.lng]));a.value=window.L.polygon(n,{color:"#ff0000",fillColor:"#ff0000",fillOpacity:.7,weight:5,opacity:1}).addTo(e.value),a.value.bindPopup(`\n        <div style="min-width: 250px;">\n          <strong style="color: #ff0000;">üéØ ${t.name}</strong><br>\n          <em>–û–±—Ä–∞–Ω–∏–π –Ω–∞—Å–µ–ª–µ–Ω–∏–π –ø—É–Ω–∫—Ç</em><br>\n          <hr style="margin: 8px 0;">\n          ${t.display_name}<br>\n          <small>–¶–µ–Ω—Ç—Ä: ${t.center.lat.toFixed(6)}, ${t.center.lng.toFixed(6)}</small>\n        </div>\n      `).openPopup();const l=a.value.getBounds();l.isValid()&&e.value.fitBounds(l.pad(.2))}catch(n){}}},i=()=>{if(a.value&&e.value&&(e.value.removeLayer(a.value),a.value=null),t.value.length>0&&e.value)try{const a=new window.L.featureGroup(t.value),n=a.getBounds();n.isValid()&&e.value.fitBounds(n.pad(.1))}catch(n){e.value.setView([49,32],6)}};return{mapInstance:e,polygonLayers:t,selectedLayer:a,initMap:n,addPolygonsToMap:l,selectSettlementOnMap:o,clearSelection:i}}const w={class:"search-container"},b=["value"];function _(e,t,a,n,l,o){return(0,s.uX)(),(0,s.CE)("div",w,[(0,s.Lk)("input",{value:a.modelValue,onInput:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.value)),type:"text",placeholder:"–ü–æ—à—É–∫ –Ω–∞—Å–µ–ª–µ–Ω–∏—Ö –ø—É–Ω–∫—Ç—ñ–≤...",class:"search-input"},null,40,b),t[1]||(t[1]=(0,s.Lk)("div",{class:"search-icon"},"üîç",-1))])}var S={name:"SearchInput",props:{modelValue:{type:String,required:!0}},emits:["update:modelValue"]},E=a(1241);const x=(0,E.A)(S,[["render",_],["__scopeId","data-v-03977150"]]);var F=x,X=a(4232);const I={class:"loading"};function A(e,t,a,n,l,o){return(0,s.uX)(),(0,s.CE)("div",I,[t[0]||(t[0]=(0,s.Lk)("div",{class:"loading-spinner"},null,-1)),(0,s.Lk)("div",null,(0,X.v_)(a.message),1)])}var $={name:"LoadingSpinner",props:{message:{type:String,default:"–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è..."}}};const D=(0,E.A)($,[["render",A],["__scopeId","data-v-d480e1ae"]]);var M=D;const B={class:"error-message"};function T(e,t,a,n,l,o){return(0,s.uX)(),(0,s.CE)("div",B,[t[0]||(t[0]=(0,s.Lk)("strong",null,"‚ùå –ü–æ–º–∏–ª–∫–∞:",-1)),t[1]||(t[1]=(0,s.Lk)("br",null,null,-1)),(0,s.eW)(" "+(0,X.v_)(a.message),1)])}var Q={name:"ErrorMessage",props:{message:{type:String,required:!0}}};const O=(0,E.A)(Q,[["render",T],["__scopeId","data-v-3981c0b5"]]);var W=O;const N={key:0,class:"no-results"},V={key:1},K={class:"settlements-list"},R=["onClick"],j={class:"settlement-name"},q={key:0,class:"loading-indicator-small"},z={class:"settlement-info"},Y={key:0,class:"loading-text"},G={key:1},U={key:2},Z={key:3},H={class:"coordinates"};function J(e,t,a,n,l,o){return(0,s.uX)(),(0,s.CE)("div",null,[0===a.settlements.length?((0,s.uX)(),(0,s.CE)("div",N,t[0]||(t[0]=[(0,s.Lk)("div",{class:"no-results-icon"},"üèòÔ∏è",-1),(0,s.Lk)("div",null,"–ù–∞—Å–µ–ª–µ–Ω—ñ –ø—É–Ω–∫—Ç–∏ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω—ñ",-1)]))):((0,s.uX)(),(0,s.CE)("div",V,[(0,s.Lk)("div",K,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.settlements,(t=>((0,s.uX)(),(0,s.CE)("div",{key:t.id,onClick:a=>e.$emit("select-settlement",t),class:"settlement-card",style:(0,X.Tr)({borderLeft:"4px solid "+t.color})},[(0,s.Lk)("div",j,[(0,s.eW)((0,X.v_)(t.name)+" ",1),t.nominatimLoading?((0,s.uX)(),(0,s.CE)("span",q,"üîÑ")):(0,s.Q3)("",!0)]),(0,s.Lk)("div",z,[t.nominatimLoading?((0,s.uX)(),(0,s.CE)("div",Y," –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞–∑–≤–∏... ")):((0,s.uX)(),(0,s.CE)("div",G,(0,X.v_)(t.display_name),1)),t.address?.country?((0,s.uX)(),(0,s.CE)("div",U," üåç "+(0,X.v_)(t.address.country),1)):(0,s.Q3)("",!0),t.address?.state?((0,s.uX)(),(0,s.CE)("div",Z," üìç "+(0,X.v_)(t.address.state),1)):(0,s.Q3)("",!0),(0,s.Lk)("div",H," üìç "+(0,X.v_)(t.coordinates),1)])],12,R)))),128))])]))])}var ee={name:"SettlementsList",props:{settlements:{type:Array,required:!0}},emits:["select-settlement"]};const te=(0,E.A)(ee,[["render",J],["__scopeId","data-v-eac9c504"]]);var ae=te;const ne={class:"settlement-detail"},le={key:0,class:"loading-indicator"},se={class:"detail-header"},oe={class:"detail-title"},ie={class:"detail-info"},re={class:"detail-field"},de={class:"field-value"},ce={key:0,class:"info-note"},ue={class:"detail-field"},me={class:"field-value"},ge={key:0,class:"detail-field"},ve={class:"field-value"},pe={key:1,class:"detail-field"},fe={class:"field-value"},ye={key:2,class:"detail-field"},he={class:"field-value"},Le={class:"detail-field"},ke={class:"field-value"},Pe={class:"detail-field"};function Ce(e,t,a,n,l,o){return(0,s.uX)(),(0,s.CE)("div",ne,[a.nominatimLoading?((0,s.uX)(),(0,s.CE)("div",le," üåê –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–µ—Ç–∞–ª–µ–π –Ω–∞—Å–µ–ª–µ–Ω–æ–≥–æ –ø—É–Ω–∫—Ç—É... ")):(0,s.Q3)("",!0),(0,s.Lk)("div",se,[(0,s.Lk)("h2",oe,(0,X.v_)(a.settlement.name),1)]),(0,s.Lk)("div",ie,[(0,s.Lk)("div",re,[t[0]||(t[0]=(0,s.Lk)("div",{class:"field-label"},"–ü–æ–≤–Ω–∞ –Ω–∞–∑–≤–∞",-1)),(0,s.Lk)("div",de,[(0,s.eW)((0,X.v_)(a.settlement.display_name)+" ",1),a.settlement.nominatimLoaded?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("span",ce," (–±–∞–∑–æ–≤–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è) "))])]),(0,s.Lk)("div",ue,[t[1]||(t[1]=(0,s.Lk)("div",{class:"field-label"},"–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏ —Ü–µ–Ω—Ç—Ä—É",-1)),(0,s.Lk)("div",me,(0,X.v_)(a.settlement.center.lat.toFixed(6))+", "+(0,X.v_)(a.settlement.center.lng.toFixed(6)),1)]),a.settlement.address?.country?((0,s.uX)(),(0,s.CE)("div",ge,[t[2]||(t[2]=(0,s.Lk)("div",{class:"field-label"},"–ö—Ä–∞—ó–Ω–∞",-1)),(0,s.Lk)("div",ve,(0,X.v_)(a.settlement.address.country),1)])):(0,s.Q3)("",!0),a.settlement.address?.state?((0,s.uX)(),(0,s.CE)("div",pe,[t[3]||(t[3]=(0,s.Lk)("div",{class:"field-label"},"–†–µ–≥—ñ–æ–Ω/–û–±–ª–∞—Å—Ç—å",-1)),(0,s.Lk)("div",fe,(0,X.v_)(a.settlement.address.state),1)])):(0,s.Q3)("",!0),a.settlement.nominatimData?.type?((0,s.uX)(),(0,s.CE)("div",ye,[t[4]||(t[4]=(0,s.Lk)("div",{class:"field-label"},"–¢–∏–ø –æ–±'—î–∫—Ç–∞",-1)),(0,s.Lk)("div",he,(0,X.v_)(a.settlement.nominatimData.type),1)])):(0,s.Q3)("",!0),(0,s.Lk)("div",Le,[t[5]||(t[5]=(0,s.Lk)("div",{class:"field-label"},"–ö—ñ–ª—å–∫—ñ—Å—Ç—å —Ç–æ—á–æ–∫ –ø–æ–ª—ñ–≥–æ–Ω—É",-1)),(0,s.Lk)("div",ke,(0,X.v_)(a.settlement.polygon.length),1)]),(0,s.Lk)("div",Pe,[t[6]||(t[6]=(0,s.Lk)("div",{class:"field-label"},"–ö–æ–ª—ñ—Ä –ø–æ–ª—ñ–≥–æ–Ω—É",-1)),(0,s.Lk)("div",{class:"field-value",style:(0,X.Tr)({color:a.settlement.color})},(0,X.v_)(a.settlement.color),5)])])])}var we={name:"SettlementDetail",props:{settlement:{type:Object,required:!0},nominatimLoading:{type:Boolean,default:!1}}};const be=(0,E.A)(we,[["render",Ce],["__scopeId","data-v-1933ba86"]]);var _e=be;const Se={class:"pagination"},Ee={class:"pagination-controls"},xe={class:"pagination-info"},Fe={class:"pagination-size"},Xe=["value"],Ie={class:"pagination-buttons"},Ae=["disabled"],$e=["onClick"],De={key:0,class:"pagination-button",style:{border:"none",cursor:"default"}},Me=["disabled"];function Be(e,t,a,n,l,o){return(0,s.uX)(),(0,s.CE)("div",Se,[(0,s.Lk)("div",Ee,[(0,s.Lk)("div",xe," –ü–æ–∫–∞–∑–∞–Ω–æ "+(0,X.v_)(n.startIndex)+"-"+(0,X.v_)(n.endIndex)+" –∑ "+(0,X.v_)(a.totalItems),1),(0,s.Lk)("div",Fe,[t[5]||(t[5]=(0,s.Lk)("span",null,"–ù–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ:",-1)),(0,s.Lk)("select",{value:a.itemsPerPage,onChange:t[0]||(t[0]=t=>e.$emit("change-items-per-page",+t.target.value))},t[4]||(t[4]=[(0,s.Lk)("option",{value:"10"},"10",-1),(0,s.Lk)("option",{value:"20"},"20",-1),(0,s.Lk)("option",{value:"50"},"50",-1),(0,s.Lk)("option",{value:"100"},"100",-1)]),40,Xe)])]),(0,s.Lk)("div",Ie,[(0,s.Lk)("button",{onClick:t[1]||(t[1]=t=>e.$emit("prev-page")),disabled:1===a.currentPage,class:"pagination-button"}," ‚Üê ",8,Ae),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.visiblePages,(t=>((0,s.uX)(),(0,s.CE)("button",{key:t,onClick:a=>e.$emit("go-to-page",t),class:(0,X.C4)(["pagination-button",{active:a.currentPage===t}])},(0,X.v_)(t),11,$e)))),128)),a.totalPages>5?((0,s.uX)(),(0,s.CE)("span",De," ... ")):(0,s.Q3)("",!0),a.totalPages>5&&a.currentPage!==a.totalPages?((0,s.uX)(),(0,s.CE)("button",{key:1,onClick:t[2]||(t[2]=t=>e.$emit("go-to-page",a.totalPages)),class:(0,X.C4)(["pagination-button",{active:a.currentPage===a.totalPages}])},(0,X.v_)(a.totalPages),3)):(0,s.Q3)("",!0),(0,s.Lk)("button",{onClick:t[3]||(t[3]=t=>e.$emit("next-page")),disabled:a.currentPage===a.totalPages,class:"pagination-button"}," ‚Üí ",8,Me)])])}var Te={name:"Pagination",props:{currentPage:{type:Number,required:!0},totalPages:{type:Number,required:!0},itemsPerPage:{type:Number,required:!0},totalItems:{type:Number,required:!0}},emits:["next-page","prev-page","go-to-page","change-items-per-page"],setup(e){const t=(0,s.EW)((()=>(e.currentPage-1)*e.itemsPerPage+1)),a=(0,s.EW)((()=>Math.min(e.currentPage*e.itemsPerPage,e.totalItems))),n=(0,s.EW)((()=>Math.min(5,e.totalPages)));return{startIndex:t,endIndex:a,visiblePages:n}}};const Qe=(0,E.A)(Te,[["render",Be],["__scopeId","data-v-2011186e"]]);var Oe=Qe;const We={class:"map-container"};function Ne(e,t,a,n,l,o){return(0,s.uX)(),(0,s.CE)("div",We,t[0]||(t[0]=[(0,s.Lk)("div",{id:"map"},null,-1)]))}var Ve={name:"MapContainer"};const Ke=(0,E.A)(Ve,[["render",Ne],["__scopeId","data-v-04ef0e51"]]);var Re=Ke,je={name:"App",components:{SearchInput:F,LoadingSpinner:M,ErrorMessage:W,SettlementsList:ae,SettlementDetail:_e,Pagination:Oe,MapContainer:Re},setup(){const e=v(),t=p(),{searchQuery:a,selectedSettlement:n,currentPage:l,itemsPerPage:o,totalPages:i,filteredSettlements:r,paginatedSettlements:d,loadSettlements:c,selectSettlement:u,clearSelection:m,clearCache:g,loadNominatimForCurrentPage:f,nextPage:y,prevPage:h,goToPage:L,changeItemsPerPage:k}=P(),{initMap:w,addPolygonsToMap:b,selectSettlementOnMap:_,clearSelection:S}=C(),E=async e=>{await u(e),_(e)},x=()=>{m(),S()};return(0,s.sV)((async()=>{try{await w(),await c()}catch(t){e.setError(t.message)}})),(0,s.wB)((()=>e.settlements),(e=>{e.length>0&&b(e,E)})),(0,s.wB)(a,(()=>{l.value=1,f()})),{settlements:e.settlements,loading:e.loading,error:e.error,nominatimLoading:e.nominatimLoading,cacheInfo:(0,s.EW)((()=>t.getCacheInfo())),searchQuery:a,selectedSettlement:n,currentPage:l,itemsPerPage:o,totalPages:i,filteredSettlements:r,paginatedSettlements:d,handleSelectSettlement:E,handleClearSelection:x,clearCache:g,loadSettlements:c,nextPage:y,prevPage:h,goToPage:L,changeItemsPerPage:k}}};const qe=(0,E.A)(je,[["render",m],["__scopeId","data-v-037e1905"]]);var ze=qe;const Ye=(0,n.Ef)(ze),Ge=(0,l.Ey)();Ye.use(Ge),Ye.mount("#app")}},t={};function a(n){var l=t[n];if(void 0!==l)return l.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,a),s.exports}a.m=e,function(){var e=[];a.O=function(t,n,l,s){if(!n){var o=1/0;for(c=0;c<e.length;c++){n=e[c][0],l=e[c][1],s=e[c][2];for(var i=!0,r=0;r<n.length;r++)(!1&s||o>=s)&&Object.keys(a.O).every((function(e){return a.O[e](n[r])}))?n.splice(r--,1):(i=!1,s<o&&(o=s));if(i){e.splice(c--,1);var d=l();void 0!==d&&(t=d)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[n,l,s]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var l,s,o=n[0],i=n[1],r=n[2],d=0;if(o.some((function(t){return 0!==e[t]}))){for(l in i)a.o(i,l)&&(a.m[l]=i[l]);if(r)var c=r(a)}for(t&&t(n);d<o.length;d++)s=o[d],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(c)},n=self["webpackChunktest_task_soft_farm_recruit_garden"]=self["webpackChunktest_task_soft_farm_recruit_garden"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],(function(){return a(6512)}));n=a.O(n)})();
//# sourceMappingURL=app.399adb28.js.map